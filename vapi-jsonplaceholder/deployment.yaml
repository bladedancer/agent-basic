apiVersion: v1alpha1
group: management
kind: ExternalSecret
name: resource-vapi-jsonplaceholder
metadata:
  scope:
    kind: Environment
    name: resource-vapi
tags:
  - v1
spec:
  config:
    provider: Kubernetes
    name: ampgw-secret
    namespace: ampgw
  data:
    kind: TLS
    privateKeyAlias: listenerPrivateKey
    certificateAlias: listenerCertificate
---
apiVersion: v1alpha1
group: management
kind: VirtualHost
name: resource-vapi-jsonplaceholder
metadata:
  scope:
    kind: Environment
    name: resource-vapi
tags:
  - v1
spec:
  domain: "jsonplaceholder.resource-vapi.sandbox.ampc.axwaytest.net"
  secret:
    kind: ExternalSecret
    name: resource-vapi-jsonplaceholder
---
apiVersion: v1alpha1
group: management
kind: Deployment
name: jsonplaceholder
metadata:
  scope:
    kind: Environment
    name: resource-vapi
tags:
  - v1
spec:
  virtualAPIRelease: jsonplaceholder-1.0.0
  virtualHost: resource-vapi-jsonplaceholder
